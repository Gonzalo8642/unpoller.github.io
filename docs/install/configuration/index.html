<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="UniFi Poller Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="UniFi Poller Blog Atom Feed"><title data-react-helmet="true">Application Configuration | UniFi Poller</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Application Configuration | UniFi Poller"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><meta data-react-helmet="true" property="og:url" content="https://unifipoller.com/docs/install/configuration"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://unifipoller.com/docs/install/configuration"><link rel="stylesheet" href="/styles.21f0090d.css">
<link rel="preload" href="/styles.43438e36.js" as="script">
<link rel="preload" href="/runtime~main.45ae55d8.js" as="script">
<link rel="preload" href="/main.a9423dfa.js" as="script">
<link rel="preload" href="/1.bd8958a3.js" as="script">
<link rel="preload" href="/2.42ce3c6f.js" as="script">
<link rel="preload" href="/37.663cda44.js" as="script">
<link rel="preload" href="/38.3712a5a7.js" as="script">
<link rel="preload" href="/935f2afb.a3c6ef44.js" as="script">
<link rel="preload" href="/17896441.ebe50187.js" as="script">
<link rel="preload" href="/43892b4c.0ced90f4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="UniFi Poller" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="UniFi Poller" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/poller/introduction">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Docusaurus</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="UniFi Poller" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="UniFi Poller" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/poller/introduction">Documentation</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">Docusaurus</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Poller</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/poller/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/poller/examples">Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/poller/howitworks">How it works</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/poller/faq">FAQs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/poller/otherguides">Other Guides</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/poller/contributors">Contributors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/poller/changelog">Change Log</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/gettingstarted">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/docker">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/dockercompose">Docker Compose</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/freebsd">FreeBSD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/macos">MacOS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/linux">Linux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/windows">Windows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/cloudkey">CloudKey</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/synology">Synology</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/install/configuration">Application Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/grafana">Setup Grafana</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Dependencies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dependencies/grafana">Grafana</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dependencies/prometheus">Prometheus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dependencies/loki">Loki</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dependencies/influxdb">InfluxDB</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/webserver">Webserver</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/api">API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Help</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/help/common">Common Solutions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/help/help">Getting Help</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/help/docker_faq">Docker FAQ</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Application Configuration</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>This page describes the two methods for configuring UniFi Poller.
It also describes most of the common configuration values and the
environment variable alternative.</p><p>UniFi Poller can be configured for use in two ways:</p><ul><li>Using environment variables (often used in Docker).</li><li>With a configuration file.</li><li>Both may be used simultaneously; env variables win in case of duplicate settings.</li></ul><p>Which to use is a matter of personal choice. Environment variables have the advantage
that all settings (referring to Docker) are in one place. The config file method has
the advantage that UniFi Poller specific settings can be saved in the same shared
Docker folder as other app&#x27;s data. <strong>Normally native installs use a
configuration file and Docker installations use environment variables.</strong></p><p>The variables to be set can be split into three categories:</p><ol><li>Configuration of UniFi Poller itself.</li><li>Configuration of the UniFi controller.<ul><li>Multiple controllers are permitted for different sites.</li></ul></li><li>Configuration of the output databases (plugins).<ul><li>UniFi Poller may output to both InfluxDB and Prometheus simultaneously.</li><li>Other outputs plugins can be created, but none exist currently.</li></ul></li></ol><p>More documentation on the configuration options is included in the
<a href="https://github.com/unifi-poller/unifi-poller/blob/master/examples/up.conf.example" target="_blank" rel="noopener noreferrer">example configuration file</a>
in the main Github repo.</p><p>The following sections break down the various configuration options available
for the three main categories mentioned previously.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="poller"></a>Poller<a class="hash-link" href="#poller" title="Direct link to heading">#</a></h2><p>The poller section begins with the <code>[poller]</code> header and has the parameters below.
These control overall behavior of the application.</p><table><thead><tr><th><strong>ENV</strong></th><th><strong>config</strong></th><th><strong>default and explanation</strong></th></tr></thead><tbody><tr><td>UP_POLLER_DEBUG</td><td>debug</td><td><code>false</code> turns on debug messages</td></tr><tr><td>UP_POLLER_QUIET</td><td>quiet</td><td><code>false</code> turns off timer messages</td></tr><tr><td>UP_POLLER_PLUGINS_0</td><td>plugins</td><td>file list - <code>empty</code>; advanced! plugin file, use _1, _2, etc to add more</td></tr></tbody></table><p>Example:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">quiet = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">debug = false</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Docker Example:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_POLLER_DEBUG=true&quot;</span><span class="token plain"> -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_POLLER_QUIET=false&quot;</span><span class="token plain"> golift/unifi-poller</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unifi-controller"></a>UniFi Controller<a class="hash-link" href="#unifi-controller" title="Direct link to heading">#</a></h2><p>The unifi section begins with the <code>[unifi]</code> header and has the following parameters:</p><table><thead><tr><th><strong>ENV</strong></th><th><strong>config</strong></th><th><strong>default and explanation</strong></th></tr></thead><tbody><tr><td>UP_UNIFI_DISABLE</td><td>disable</td><td><code>false</code>  turns off this input. don&#x27;t do that!</td></tr><tr><td>UP_UNIFI_DYNAMIC</td><td>dynamic</td><td><code>false</code>  enables dynamic lookups (from prometheus)</td></tr><tr><td>UP_UNIFI_DEFAULT_ROLE</td><td>unifi.defaults.role</td><td><code>URL</code> allows grouping controllers</td></tr><tr><td>UP_UNIFI_DEFAULT_URL</td><td>unifi.defaults.url</td><td><code>&quot;https://127.0.0.1:8443&quot;</code> only applies if no controllers are defined (next section)</td></tr><tr><td>UP_UNIFI_DEFAULT_USER</td><td>unifi.defaults.user</td><td><code>&quot;unifipoller&quot;</code> default applies to any controller without a username</td></tr><tr><td>UP_UNIFI_DEFAULT_PASS</td><td>unifi.defaults.pass</td><td><code>&quot;&quot;</code> default applies to any controller without a password</td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_SITES</td><td>unifi.defaults.save_sites</td><td><code>true</code></td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_IDS</td><td>unifi.defaults.save_ids</td><td><code>false</code> Only works with InfluxDB / Loki</td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_EVENTS</td><td>unifi.defaults.save_events</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_ALARMS</td><td>unifi.defaults.save_alarms</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_ANOMALIES</td><td>unifi.defaults.save_anomalies</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_DPI</td><td>unifi.defaults.save_dpi</td><td><code>false</code></td></tr><tr><td>UP_UNIFI_DEFAULT_VERIFY_SSL</td><td>unifi.defaults.verify_ssl</td><td><code>false</code></td></tr><tr><td>UP_UNIFI_DEFAULT_SITE_0</td><td>unifi.defaults.site.0</td><td><code>[&quot;all&quot;]</code> specify more sites with _1, _2, etc.</td></tr></tbody></table><hr><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>When configuring make sure that you do <strong>not</strong> include <code>:8443</code> on the url of the controller
if you are using <code>unifios</code>. Those are: UDM Pro, UDM, or CkoudKey with recent firmware.</p></div></div><p>Most <code>unifi</code> configuration will look like this:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[unifi]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  url = &quot;http://192.168.2.2&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  user = &quot;unifipoller&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  pass = &quot;unifip4assw0rd&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  save_sites = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  save_ids = false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  save_events = false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  save_alarms = false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  save_dpi = false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  sites = [ &quot;default&quot; ]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Same example, but for Docker:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_UNIFI_DEFAULT_URL=http://127.0.0.1:8086&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_UNIFI_DEFAULT_PASS=unifip4assw0rd&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_UNIFI_DEFAULT_SAVE_SITES=true&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_UNIFI_DEFAULT_PASS=unifipassw0rd&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_UNIFI_DEFAULT_SITE_0=default&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  golift/unifi-poller</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="multiple-controllers"></a>Multiple Controllers<a class="hash-link" href="#multiple-controllers" title="Direct link to heading">#</a></h3><p>You can configure a single controller by setting the <code>UP_UNIFI_DEFAULT</code> variables above,
but you can also configure a single, or multiple controllers by setting the variables below.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>If you only have one controller, use the <code>default</code> variables described above.</p><p><strong>Do not use the variables described below, if you only have 1 controller.</strong></p></div></div><p>You may repeat the <code>[[unifi.controller]]</code> section as many times as you want to add more controllers.
If you&#x27;re configuring controllers using env variables, start at <code>_0</code> and change <code>_0</code> to <code>_1</code>
to add a second, then <code>_2</code> and so on.</p><p>Like any configured list, you may configure controllers with a file or env vars, or both.</p><table><thead><tr><th><strong>ENV</strong></th><th><strong>config</strong></th><th><strong>default and explanation</strong></th></tr></thead><tbody><tr><td>UP_UNIFI_CONTROLLER_0_ROLE</td><td>unifi.controller.role</td><td><code>URL</code> allows grouping controllers, default applies to any controller without a role</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_URL</td><td>unifi.controller.url</td><td><code>&quot;https://127.0.0.1:8443&quot;</code></td></tr><tr><td>UP_UNIFI_CONTROLLER_0_USER</td><td>unifi.controller.user</td><td><code>&quot;unifipoller&quot;</code></td></tr><tr><td>UP_UNIFI_CONTROLLER_0_PASS</td><td>unifi.controller.pass</td><td><code>&quot;&quot;</code></td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_SITES</td><td>unifi.controller.save_sites</td><td><code>true</code> Powers Network Sites dashboard</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_IDS</td><td>unifi.controller.save_ids</td><td><code>false</code> Only works with InfluxDB / Loki</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_EVENTS</td><td>unifi.controller.save_events</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_ALARMS</td><td>unifi.controller.save_alarms</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_ANOMALIES</td><td>unifi.controller.save_anomalies</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_DPI</td><td>unifi.controller.save_dpi</td><td><code>false</code> Powers DPI dashboard</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_VERIFY_SSL</td><td>unifi.controller.verify_ssl</td><td><code>false</code> Verify controller SSL certificate</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SITE_0</td><td>unifi.controller.site.0</td><td><code>[&quot;all&quot;]</code> specify more sites with _1, _2, etc</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="output-plugins"></a>Output Plugins<a class="hash-link" href="#output-plugins" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="prometheus"></a>Prometheus<a class="hash-link" href="#prometheus" title="Direct link to heading">#</a></h3><p>This section begins with <code>[prometheus]</code> and configures an HTTP listener where a scrape
daemon, such as Prometheus or InfluxDB 2.0 may obtain metrics. See the Prometheus wiki
page for Prometheus configuration instructions.</p><p>While Prometheus provides some configuration parameters, you shouldn&#x27;t change them.
If you don&#x27;t use Prometheus, set <code>disable</code> to <code>true</code>.</p><table><thead><tr><th><strong>ENV</strong></th><th><strong>config</strong></th><th><strong>default and explanation</strong></th></tr></thead><tbody><tr><td>UP_PROMETHEUS_DISABLE</td><td>prometheus.disable</td><td><code>false</code></td></tr><tr><td>UP_PROMETHEUS_NAMESPACE</td><td>prometheus.namespace</td><td><code>unifipoller</code></td></tr><tr><td>UP_PROMETHEUS_HTTP_LISTEN</td><td>prometheus.http_listen</td><td><code>0.0.0.0:9130</code></td></tr><tr><td>UP_PROMETHEUS_REPORT_ERRORS</td><td>prometheus.report_errors</td><td><code>false</code></td></tr><tr><td>UP_PROMETHEUS_BUFFER</td><td>prometheus.buffer</td><td><code>50</code></td></tr></tbody></table><p>The <a href="/docs/dependencies/prometheus">Prometheus</a> page has a full explanation of how to configure Poller.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="influxdb"></a>InfluxDB<a class="hash-link" href="#influxdb" title="Direct link to heading">#</a></h3><p>This section begins with <code>[influxdb]</code> and configures a single InfluxDB write destination.</p><table><thead><tr><th><strong>ENV</strong></th><th><strong>config</strong></th><th><strong>default and explanation</strong></th></tr></thead><tbody><tr><td>UP_INFLUXDB_URL</td><td>influxdb.url</td><td><code>&quot;http://127.0.0.1:8086&quot;</code> influxdb URL</td></tr><tr><td>UP_INFLUXDB_DB</td><td>influxdb.db</td><td><code>&quot;unifi&quot;</code> name of database you created in influx</td></tr><tr><td>UP_INFLUXDB_USER</td><td>influxdb.user</td><td><code>&quot;unifipoller&quot;</code> username with access to database</td></tr><tr><td>UP_INFLUXDB_PASS</td><td>influxdb.pass</td><td><code>&quot;unifipoller&quot;</code> password for username</td></tr><tr><td>UP_INFLUXDB_INTERVAL</td><td>influxdb.interval</td><td><code>&quot;30s&quot;</code> how often to poll and collect metrics, ie &quot;1m&quot; or &quot;90s&quot;</td></tr></tbody></table><p>InfluxDB is very easy to use with UniFi Poller, and it&#x27;s recommend if this whole
metrics ecosystem is new to you. All you do is add a small configuration like you
see below and poller sends all your glorious data into the database.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[influxdb]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  url = &quot;http://127.0.0.1:8086&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  db = &quot;unifi&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  interval=&quot;60s&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Using Docker it may look like this:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_INFLUXDB_URL=http://127.0.0.1:8086&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_INFLUXDB_DB=unifi&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_INFLUXDB_INTEVAL=60s&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_UNIFI_DEFAULT_URL=https://192.168.1.2&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UP_UNIFI_DEFAULT_PASS=unifipassw0rd&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  golift/unifi-poller</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/install/synology"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Synology</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/install/grafana"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Setup Grafana Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#poller" class="table-of-contents__link">Poller</a></li><li><a href="#unifi-controller" class="table-of-contents__link">UniFi Controller</a><ul><li><a href="#multiple-controllers" class="table-of-contents__link">Multiple Controllers</a></li></ul></li><li><a href="#output-plugins" class="table-of-contents__link">Output Plugins</a><ul><li><a href="#prometheus" class="table-of-contents__link">Prometheus</a></li><li><a href="#influxdb" class="table-of-contents__link">InfluxDB</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Support</h4><ul class="footer__items"><li class="footer__item"><a href="https://golift.io/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Go Lift Discord</a></li><li class="footer__item"><a href="https://golift.io/unifi-poller/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open GitHub Issue</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://community.ui.com/questions/Unifi-Poller-Store-Unifi-Controller-Metrics-in-InfluxDB-without-SNMP/58a0ea34-d2b3-41cd-93bb-d95d3896d1a1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ubiquiti Forums</a></li><li class="footer__item"><a href="https://discord.gg/KnyKYt2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ubiquiti Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Downloads</h4><ul class="footer__items"><li class="footer__item"><a href="https://packagecloud.io/golift" target="_blank" rel="noopener noreferrer" class="footer__link-item">Package Cloud</a></li><li class="footer__item"><a href="https://github.com/unifi-poller/unifi-poller/releases/latest" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Releases</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Information</h4><ul class="footer__items"><li class="footer__item"><a href="mailto:code@golift.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/poller/license">Software License</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div class="row"><div class="col footer__col">
      <a href="https://hub.docker.com/r/golift/unifi-poller">&#9733; THIS PROJECT ON DOCKERHUB</a>
      </div><div class="col footer__col" style="text-align:left;">
      Copyright Â© 2018-2021 Go Lift
      </div><div class="col footer__col"><a href="https://golift.io"><img src="https://docs.golift.io/integrations/golift.png"></a></div></div></div></div></div></footer></div>
<script src="/styles.43438e36.js"></script>
<script src="/runtime~main.45ae55d8.js"></script>
<script src="/main.a9423dfa.js"></script>
<script src="/1.bd8958a3.js"></script>
<script src="/2.42ce3c6f.js"></script>
<script src="/37.663cda44.js"></script>
<script src="/38.3712a5a7.js"></script>
<script src="/935f2afb.a3c6ef44.js"></script>
<script src="/17896441.ebe50187.js"></script>
<script src="/43892b4c.0ced90f4.js"></script>
</body>
</html>