"use strict";(self.webpackChunkpollerdox=self.webpackChunkpollerdox||[]).push([[878],{3905:(t,e,n)=>{n.d(e,{Zo:()=>d,kt:()=>k});var a=n(7294);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,l=function(t,e){if(null==t)return{};var n,a,l={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(l[n]=t[n]);return l}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}var p=a.createContext({}),u=function(t){var e=a.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},d=function(t){var e=u(t.components);return a.createElement(p.Provider,{value:e},t.children)},s={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,l=t.mdxType,r=t.originalType,p=t.parentName,d=o(t,["components","mdxType","originalType","parentName"]),m=u(n),k=l,N=m["".concat(p,".").concat(k)]||m[k]||s[k]||r;return n?a.createElement(N,i(i({ref:e},d),{},{components:n})):a.createElement(N,i({ref:e},d))}));function k(t,e){var n=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var r=n.length,i=new Array(r);i[0]=m;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o.mdxType="string"==typeof t?t:l,i[1]=o;for(var u=2;u<r;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4493:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>p,contentTitle:()=>i,default:()=>s,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var a=n(3117),l=(n(7294),n(3905));const r={id:"configuration",title:"Application Configuration"},i=void 0,o={unversionedId:"install/configuration",id:"install/configuration",title:"Application Configuration",description:"Overview",source:"@site/docs/install/configuration.md",sourceDirName:"install",slug:"/install/configuration",permalink:"/docs/install/configuration",draft:!1,tags:[],version:"current",frontMatter:{id:"configuration",title:"Application Configuration"},sidebar:"someSidebar",previous:{title:"Synology",permalink:"/docs/install/synology"},next:{title:"Setup Grafana",permalink:"/docs/install/grafana"}},p={},u=[{value:"Overview",id:"overview",level:2},{value:"Poller",id:"poller",level:2},{value:"UniFi Controller",id:"unifi-controller",level:2},{value:"Multiple Controllers",id:"multiple-controllers",level:3},{value:"Output Plugins",id:"output-plugins",level:2},{value:"Prometheus",id:"prometheus",level:3},{value:"InfluxDB",id:"influxdb",level:3}],d={toc:u};function s(t){let{components:e,...n}=t;return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"overview"},"Overview"),(0,l.kt)("p",null,"This page describes the two methods for configuring UniFi Poller.\nIt also describes most of the common configuration values and the\nenvironment variable alternative."),(0,l.kt)("p",null,"UniFi Poller can be configured for use in two ways:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Using environment variables (often used in Docker)."),(0,l.kt)("li",{parentName:"ul"},"With a configuration file."),(0,l.kt)("li",{parentName:"ul"},"Both may be used simultaneously; env variables win in case of duplicate settings.")),(0,l.kt)("p",null,"Which to use is a matter of personal choice. Environment variables have the advantage\nthat all settings (referring to Docker) are in one place. The config file method has\nthe advantage that UniFi Poller specific settings can be saved in the same shared\nDocker folder as other app's data. ",(0,l.kt)("strong",{parentName:"p"},"Normally native installs use a\nconfiguration file and Docker installations use environment variables.")),(0,l.kt)("p",null,"An example is included in the Unpoller install folder ",(0,l.kt)("inlineCode",{parentName:"p"},"up.xxxx.example"),". You can edit the file in a text editor and then rename it removing ",(0,l.kt)("inlineCode",{parentName:"p"},".example"),". To create a valid file."),(0,l.kt)("p",null,"The variables to be set can be split into three categories:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Configuration of UniFi Poller itself."),(0,l.kt)("li",{parentName:"ol"},"Configuration of the UniFi controller.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Multiple controllers are permitted for different sites."))),(0,l.kt)("li",{parentName:"ol"},"Configuration of the output databases (plugins).",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"UniFi Poller may output to both InfluxDB and Prometheus simultaneously."),(0,l.kt)("li",{parentName:"ul"},"Other outputs plugins can be created, but none exist currently.")))),(0,l.kt)("p",null,"More documentation on the configuration options is included in the\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/unpoller/unpoller/blob/master/examples/up.conf.example"},"example configuration file"),"\nin the main Github repo. You can copy it to make your own ",(0,l.kt)("inlineCode",{parentName:"p"},"up.conf")," file."),(0,l.kt)("p",null,"The following sections break down the various configuration options available\nfor the three main categories mentioned previously."),(0,l.kt)("h2",{id:"poller"},"Poller"),(0,l.kt)("p",null,"The poller section begins with the ",(0,l.kt)("inlineCode",{parentName:"p"},"[poller]")," header and has the parameters below.\nThese control overall behavior of the application."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"ENV")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"config")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"default and explanation")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_POLLER_DEBUG"),(0,l.kt)("td",{parentName:"tr",align:null},"debug"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," turns on debug messages")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_POLLER_QUIET"),(0,l.kt)("td",{parentName:"tr",align:null},"quiet"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," turns off timer messages")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_POLLER_PLUGINS_0"),(0,l.kt)("td",{parentName:"tr",align:null},"plugins"),(0,l.kt)("td",{parentName:"tr",align:null},"file list - ",(0,l.kt)("inlineCode",{parentName:"td"},"empty"),"; advanced! plugin file, use _1, _2, etc to add more")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-toml"},"quiet = true\ndebug = false\n")),(0,l.kt)("p",null,"Docker Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'docker run -e "UP_POLLER_DEBUG=true" -e "UP_POLLER_QUIET=false" golift/unpoller\n')),(0,l.kt)("h2",{id:"unifi-controller"},"UniFi Controller"),(0,l.kt)("p",null,"The unifi section begins with the ",(0,l.kt)("inlineCode",{parentName:"p"},"[unifi]")," header and has the following parameters:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"ENV")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"config")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"default and explanation")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DISABLE"),(0,l.kt)("td",{parentName:"tr",align:null},"disable"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"),"  turns off this input. don't do that!")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DYNAMIC"),(0,l.kt)("td",{parentName:"tr",align:null},"dynamic"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"),"  enables dynamic lookups (from prometheus)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_ROLE"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.role"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"URL")," allows grouping controllers")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_URL"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.url"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"https://127.0.0.1:8443"')," only applies if no controllers are defined (next section)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_USER"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.user"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"unifipoller"')," default applies to any controller without a username")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_PASS"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.pass"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'""')," default applies to any controller without a password")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_SAVE_SITES"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.save_sites"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"true"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_SAVE_IDS"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.save_ids"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," Only works with InfluxDB / Loki")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_SAVE_EVENTS"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.save_events"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," Only works with InfluxDB / Loki, added in v2.0.2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_SAVE_ALARMS"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.save_alarms"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," Only works with InfluxDB / Loki, added in v2.0.2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_SAVE_ANOMALIES"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.save_anomalies"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," Only works with InfluxDB / Loki, added in v2.0.2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_SAVE_DPI"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.save_dpi"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_VERIFY_SSL"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.verify_ssl"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_DEFAULT_SITE_0"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.defaults.site.0"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'["all"]')," specify more sites with _1, _2, etc.")))),(0,l.kt)("hr",null),(0,l.kt)("admonition",{type:"important"},(0,l.kt)("p",{parentName:"admonition"},"When configuring make sure that you do ",(0,l.kt)("strong",{parentName:"p"},"not")," include ",(0,l.kt)("inlineCode",{parentName:"p"},":8443")," on the url of the controller\nif you are using ",(0,l.kt)("inlineCode",{parentName:"p"},"unifios"),". Those are: UDM Pro, UDM, UXG, or CkoudKey with recent firmware.")),(0,l.kt)("p",null,"Most ",(0,l.kt)("inlineCode",{parentName:"p"},"unifi")," configuration will look like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-toml"},'[unifi]\n  url = "http://192.168.2.2"\n  user = "unifipoller"\n  pass = "unifip4assw0rd"\n  save_sites = true\n  save_ids = false\n  save_events = false\n  save_alarms = false\n  save_dpi = false\n  sites = [ "default" ]\n')),(0,l.kt)("p",null,"Same example, but for Docker:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'docker run\n  -e "UP_UNIFI_DEFAULT_URL=http://127.0.0.1:8086" \\\n  -e "UP_UNIFI_DEFAULT_PASS=unifip4assw0rd" \\\n  -e "UP_UNIFI_DEFAULT_SAVE_SITES=true" \\\n  -e "UP_UNIFI_DEFAULT_SITE_0=default" \\\n  golift/unpoller\n')),(0,l.kt)("h3",{id:"multiple-controllers"},"Multiple Controllers"),(0,l.kt)("p",null,"You can configure a single controller by setting the ",(0,l.kt)("inlineCode",{parentName:"p"},"UP_UNIFI_DEFAULT")," variables above,\nbut you can also configure a single, or multiple controllers by setting the variables below."),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"If you only have one controller, use the ",(0,l.kt)("inlineCode",{parentName:"p"},"default")," variables described above."),(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("strong",{parentName:"p"},"Do not use the variables described below, if you only have 1 controller."))),(0,l.kt)("p",null,"You may repeat the ",(0,l.kt)("inlineCode",{parentName:"p"},"[[unifi.controller]]")," section as many times as you want to add more controllers.\nIf you're configuring controllers using env variables, start at ",(0,l.kt)("inlineCode",{parentName:"p"},"_0")," and change ",(0,l.kt)("inlineCode",{parentName:"p"},"_0")," to ",(0,l.kt)("inlineCode",{parentName:"p"},"_1"),"\nto add a second, then ",(0,l.kt)("inlineCode",{parentName:"p"},"_2")," and so on."),(0,l.kt)("p",null,"Like any configured list, you may configure controllers with a file or env vars, or both."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"ENV")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"config")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"default and explanation")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_ROLE"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.role"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"URL")," allows grouping controllers, default applies to any controller without a role")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_URL"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.url"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"https://127.0.0.1:8443"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_USER"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.user"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"unifipoller"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_PASS"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.pass"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'""'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_SAVE_SITES"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.save_sites"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"true")," Powers Network Sites dashboard")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_SAVE_IDS"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.save_ids"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," Only works with InfluxDB / Loki")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_SAVE_EVENTS"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.save_events"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," Only works with InfluxDB / Loki, added in v2.0.2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_SAVE_ALARMS"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.save_alarms"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," Only works with InfluxDB / Loki, added in v2.0.2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_SAVE_ANOMALIES"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.save_anomalies"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," Only works with InfluxDB / Loki, added in v2.0.2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_SAVE_DPI"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.save_dpi"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," Powers DPI dashboard")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_VERIFY_SSL"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.verify_ssl"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," Verify controller SSL certificate")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_UNIFI_CONTROLLER_0_SITE_0"),(0,l.kt)("td",{parentName:"tr",align:null},"unifi.controller.site.0"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'["all"]')," specify more sites with _1, _2, etc")))),(0,l.kt)("h2",{id:"output-plugins"},"Output Plugins"),(0,l.kt)("h3",{id:"prometheus"},"Prometheus"),(0,l.kt)("p",null,"This section begins with ",(0,l.kt)("inlineCode",{parentName:"p"},"[prometheus]")," and configures an HTTP listener where a scrape\ndaemon, such as Prometheus or InfluxDB 2.0 may obtain metrics. See the\n",(0,l.kt)("a",{parentName:"p",href:"../dependencies/prometheus"},"Prometheus")," page for Prometheus configuration instructions."),(0,l.kt)("p",null,"While Prometheus provides some configuration parameters, you shouldn't change them.\nIf you don't use Prometheus, set ",(0,l.kt)("inlineCode",{parentName:"p"},"disable")," to ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"ENV")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"config")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"default and explanation")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_PROMETHEUS_DISABLE"),(0,l.kt)("td",{parentName:"tr",align:null},"prometheus.disable"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_PROMETHEUS_NAMESPACE"),(0,l.kt)("td",{parentName:"tr",align:null},"prometheus.namespace"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"unifipoller"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_PROMETHEUS_HTTP_LISTEN"),(0,l.kt)("td",{parentName:"tr",align:null},"prometheus.http_listen"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"0.0.0.0:9130"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_PROMETHEUS_REPORT_ERRORS"),(0,l.kt)("td",{parentName:"tr",align:null},"prometheus.report_errors"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_PROMETHEUS_BUFFER"),(0,l.kt)("td",{parentName:"tr",align:null},"prometheus.buffer"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"50"))))),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"The ",(0,l.kt)("a",{parentName:"p",href:"../dependencies/prometheus"},"Prometheus")," page has a full explanation of how to configure Poller.")),(0,l.kt)("h3",{id:"influxdb"},"InfluxDB"),(0,l.kt)("p",null,"This section begins with ",(0,l.kt)("inlineCode",{parentName:"p"},"[influxdb]")," and configures a single InfluxDB write destination."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"ENV")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"config")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"default and explanation")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_INFLUXDB_URL"),(0,l.kt)("td",{parentName:"tr",align:null},"influxdb.url"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"http://127.0.0.1:8086"')," influxdb URL")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_INFLUXDB_DB"),(0,l.kt)("td",{parentName:"tr",align:null},"influxdb.db"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"unifi"')," name of database you created in influx")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_INFLUXDB_USER"),(0,l.kt)("td",{parentName:"tr",align:null},"influxdb.user"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"unifipoller"')," username with access to database")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_INFLUXDB_PASS"),(0,l.kt)("td",{parentName:"tr",align:null},"influxdb.pass"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"unifipoller"')," password for username")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UP_INFLUXDB_INTERVAL"),(0,l.kt)("td",{parentName:"tr",align:null},"influxdb.interval"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"30s"'),' how often to poll and collect metrics, ie "1m" or "90s"')))),(0,l.kt)("p",null,"InfluxDB is very easy to use with UniFi Poller, and it's recommend if this whole\nmetrics ecosystem is new to you. All you do is add a small configuration like you\nsee below and poller sends all your glorious data into the database."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-toml"},'[influxdb]\n  url = "http://127.0.0.1:8086"\n  db = "unifi"\n  interval="60s"\n')),(0,l.kt)("p",null,"Using Docker it may look like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'docker run\n  -e "UP_INFLUXDB_URL=http://127.0.0.1:8086" \\\n  -e "UP_INFLUXDB_DB=unifi" \\\n  -e "UP_INFLUXDB_INTERVAL=60s" \\\n  -e "UP_UNIFI_DEFAULT_URL=https://192.168.1.2"\n  -e "UP_UNIFI_DEFAULT_PASS=unifipassw0rd"\n  golift/unpoller\n')))}s.isMDXComponent=!0}}]);